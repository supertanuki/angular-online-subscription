<h1>{{sessions.courseLabel}} <small>- {{sessions.organismLabel}}</small></h1>

<hr>

<div class="alert alert-warning text-center">Merci de sélectionner la session souhaitée</div>

<div class="table-responsive">
  <table class="table table-bordered table-striped table-hover">
    <thead>
	    <tr>
	        <th>Dates</th>
	        <th>Lieu</th>
            <th>Inscrits</th>
	        <th>Places disponibles</th>
	        <th></th>
        </tr>
    </thead>
    
    <tbody data-toggle="buttons">
	    <tr ng-repeat="session in sessions.sessions">
	        <td>
	           <span class="glyphicon glyphicon-calendar"></span>
	           Du {{session.dateBegin | date:'dd/MM/yyyy'}} au {{session.dateEnd | date:'dd/MM/yyyy'}}
            </td>
	        <td><span class="glyphicon glyphicon-map-marker"></span> {{session.place}}</td>
            <td>
               <span class="glyphicon glyphicon-user"></span> {{session.subscribedTrainees}}
            </td>
	        <td>
				<div class="progress">
					<div ng-if="session.maxTrainee - session.subscribedTrainees == 0"
					   class="progress-bar progress-bar-danger"
					   ng-style="{ 'min-width': '2em', 'width': '100%'}"
					   >
						  {{session.maxTrainee - session.subscribedTrainees}}
					</div>
                  
					<div ng-if="session.subscribedTrainees < session.maxTrainee"
					   class="progress-bar progress-bar-success"
					   ng-style="{ 'min-width': '2em', 'width': ((100 * (session.maxTrainee - session.subscribedTrainees)/session.maxTrainee) | number:0) + '%' }"
					   >
					     {{session.maxTrainee - session.subscribedTrainees}}
					</div>
				</div>
            </td>
            <td>
                <label class="btn btn-success" ng-if="session.maxTrainee - session.subscribedTrainees > 0">
                    <input type="radio" name="selectedSession" id="selectedSession{{session.id}}" value="{{session.id}}" autocomplete="off">
                    <span class="glyphicon glyphicon-ok"></span>
                    Sélectionner
                    &nbsp;&nbsp;&nbsp;&nbsp;
                </label>
                
                <label class="btn btn-default btn-sm" ng-if="session.maxTrainee - session.subscribedTrainees == 0">
                    <input type="radio" name="waitListSession" id="waitListSession{{session.id}}" value="{{session.id}}" autocomplete="off">
                    <span class="glyphicon glyphicon-ok"></span>
                    S'inscrire sur liste d'attente
                    &nbsp;&nbsp;&nbsp;&nbsp;
                </label>
            </td>
	    </tr>
    </tbody>
  </table>
</div>